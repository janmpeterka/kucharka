{% extends "base/base.html.j2" %}
{% block title %}
    {{ texts.recipe }}
{% endblock %}

 {% block links %}
    {{ super() }}
    {{ turbo() }}
    <!-- include summernote css/js-->
    <link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.js"></script>
{% endblock %}

{% block content %}
<form action="{{ url_for('RecipesView:post_edit', id=recipe.id) }}" class="form" method="post" accept-charset="utf-8">
    {{ form.csrf_token }}
    <div class="w-100">
    {{ render_field(form.name, has_label=False, class="col-6") }}
    </div>

    {# <div class="w-100"> #}
    {# {{ render_field(form.description, has_label=False, class="col") }}                             #}
    {# </div> #}

    <div class="w-100 mt-2 mb-2">
    {{ render_field(form.category, has_label=False, class="col") }}                            
    </div>

    <input type="submit" value="{{ texts.recipe_edit }}" class="btn btn-warning">
    <a class="btn btn-secondary ml-2" href="{{ url_for('RecipesView:show', id=recipe.id) }}">{{ texts.edit_cancel }} {{ icon("edit") }}</a>
</form>

<table id="ingredients" class="table">
    <tr>
        <th>{{ texts.title }}</th>
        <th>{{ texts.amount_simple }}</th>
    </tr>

    {% for ingredient in recipe.ingredients: %}
        {% include "recipes/_edit_ingredient.html.j2" %}
    {% endfor %}
</table>

<div>
    <form action="{{ url_for('RecipesView:post_edit_description', id=recipe.id) }}" class="form" method="post" accept-charset="utf-8">
        <textarea id="summernote" name="description" class='form-control'>{{ recipe.description }}</textarea>
        <button type="submit" class="btn btn-warning">Uložit návod</button>
    </form>
</div>

{% endblock %}

{% block scripts_after %}
<script type="text/javascript">
    $(document).ready(function() {$('#summernote').summernote();});
</script>
{% endblock %}