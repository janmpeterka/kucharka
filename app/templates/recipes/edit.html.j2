{% extends "base/base.html.j2" %}
{% block title %} recept {% endblock %}

{% block links %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Trumbowyg/2.25.1/trumbowyg.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/Trumbowyg/2.25.1/ui/trumbowyg.min.css" rel="stylesheet">
{% endblock %}

{% block scripts_after %}
    {{ stimulus("select2", "editor", "select-badges") }}
{% endblock %}

{% block content %}

<a class="btn bg-color-secondary-action color-white ms-2 mb-3" href="{{ url_for('RecipeView:show', id=recipe.id) }}"> zavřít úpravy </a>

<div class="form-control mb-3">
    <h3 class="text-center"> recept </h3>
    {% include "recipes/edit/_info.html.j2" %}
</div>

<turbo-frame id="recipe-{{recipe.id}}-ingredients">
<div class="form-control mb-3">
    <h3 class="text-center"> suroviny </h3>
    
    <turbo-frame id="add-ingredient-form">
    <div class="m-3" id="add-ingredient">
        {% include "recipes/edit/_add_ingredient_form.html.j2" %}
        {% if show_fast_add %}
            {% with form=ingredient_form %}
                {% include "ingredients/_new_simple.html.j2" %}
            {% endwith %}
        {% endif %}
    </div>
    </turbo-frame>

    {% include "recipes/edit/_ingredient_table.html.j2" %}
</div>
</turbo-frame>


<div class="form-control mb-3">
    <h3 class="text-center"> návod </h3>
    {% include "recipes/edit/_description.html.j2" %}
</div>

<a class="btn bg-color-secondary-action color-white ms-2 mb-5" href="{{ url_for('RecipeView:show', id=recipe.id) }}"> zavřít úpravy </a>

{% endblock %}
