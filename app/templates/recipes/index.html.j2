{% extends "base/base.html.j2" %}
{% block title %} {{ texts.recipe_all }} {% endblock %}

{% block links %}
    {{ super() }}
    {{ turbo() }}
{% endblock %}

{% block content %}
<h1>Moje recepty
    <a href="{{ url_for('RecipesView:new') }}"><button class="btn btn-secondary float-right">{{ texts.recipe_new }}</button></a>
</h1>

<hr>
<details open>
<summary>Filtrování</summary>
<form action="{{ url_for('RecipesView:filter') }}" method="post" class="form-inline form-control" accept-charset="UTF-8">
    {{ form.csrf_token }}
    <div class="col-12">
        <div class="mt-2 row">
            {{ form.ingredient_name.label(class_="ml-2") }}
            {{ render_field(form.ingredient_name, has_label=False, class="ml-3") }}
            {{ form.category.label(class_="ml-2") }}
            {{ render_field(form.category, has_label=False, class="ml-3") }}
        </div>
    <div class="mt-2 ml-1 row">
        {{ render_field(form.is_vegetarian, div_class="form-check-inline", label="musí být " + icon("vegetarian")) }}
        {{ render_field(form.is_vegan, div_class="form-check-inline", label="musí být " + icon("vegan")) }}
        {{ render_field(form.gluten_free, div_class="form-check-inline", label="musí být " + icon("gluten_free")) }}
        {{ render_field(form.lactose_free, div_class="form-check-inline", label="musí být " + icon("lactose_free")) }}
    </div>
    <div class="text-right">
      {{ form.submit(class_='btn btn-primary ml-3') }}
    </div>
    </div>
</form>
</details>
<hr>

{% include "recipes/_recipes.html.j2" %}

{# <h1> Koncepty </h1>
<table class="table">
    {% for recipe in current_user.draft_recipes: %}
    <tr>
        <td>{{ link_to(recipe) }}</td>
    </tr>
    {% endfor %}
</table>
 #}
{% endblock %}

