{% from "macros/render_day_badge.html.j2" import render_day_badge with context %} 

{% extends "base/base.html.j2" %}
{% block title %} {{ event.name }} {% endblock %}
{% block links %}
    {{ super() }}
    {{ turbo() }}
{% endblock %}

{% block scripts_after %}
    {{ stimulus("clicker", "set-duration") }}
{% endblock %}

{% block content %}

<div class="mb-3">
    {% include "events/_info.html.j2" %}
</div>

<hr>

<div class="row" data-controller="clicker" data-clicker-target="area">
    {% for week in event.days_by_week %}
        <div class="row">
        {% for day in week %}
            {{ render_day_badge(day) }}
        {% endfor %}
        </div>
    {% endfor %}
</div>

<hr>

{% if event.can_current_user_edit %}
    {% include "events/_more_options.html.j2" %}
{% endif %}

{% if event.can_current_user_edit %}
    <turbo-frame id="event-warnings" src="{{ url_for('EventsView:warnings', id=event.id) }}"></turbo-frame>
{% endif %}

<details class="colored mb-2">
    <summary > Sdílení </summary>
    <div>
    {% for event_role in event.user_roles %}
        <div>
        {{ event_role.user.email }} {{ icon(event_role.role) }}
        </div>
    {% endfor %}
    </div>
</details>

{% include "events/_export.html.j2" %}


{% endblock %}