{% from "macros/render_day_badge.html.j2" import render_day_badge with context %} 

{% extends "base/base.html.j2" %}
{% block title %} {{ event.name }} {% endblock %}
{% block links %}
    {{ super() }}
    {{ turbo() }}
{% endblock %}

{% block scripts_after %}
    {{ stimulus("clicker", "set-duration", "refresh") }}
{% endblock %}

{% block content %}

<div id="event-{{event.id}}-update-warning" class="text-center cursor-clickable" data-controller="refresh" data-action="click->refresh#refresh"></div>


<div class="mb-3">
    {% include "events/_info.html.j2" %}
</div>

<hr>

<div class="row ms-0" data-controller="clicker" data-clicker-target="area">
    {% for week in event.days_by_week %}
        <div class="row">
        {% for day in week %}
            {{ render_day_badge(day) }}
        {% endfor %}
        </div>
    {% endfor %}
</div>

<hr>

{% if event.can_current_user_edit %}
    {% include "events/_more_options.html.j2" %}
{% endif %}

{% if event.can_current_user_edit %}
    <turbo-frame id="event-warnings" src="{{ url_for('EventsView:warnings', id=event.id) }}"></turbo-frame>
{% endif %}

{% if event.can_current_user_edit %}
    {% include "events/_sharing.html.j2" %}
{% endif %}

{% include "events/_export.html.j2" %}

{% endblock %}